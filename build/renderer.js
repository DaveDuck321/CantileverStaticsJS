define(["require", "exports", "./input", "./math_util"], function (require, exports, input_1, math_util_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    function Scale2Viewport(min, max, dimsPx) {
        var _a = [max[0] - min[0], max[1] - min[1]], rangeX = _a[0], rangeY = _a[1];
        var maxRange = Math.max(rangeX, rangeY) * 1.3;
        min = math_util_1.SubVectors(min, [(maxRange - rangeX) / 2, (maxRange - rangeY) / 2]);
        var scale = math_util_1.ScaleVector(dimsPx, 1 / maxRange);
        return function (vec) {
            var result = math_util_1.LinMultVectors(math_util_1.SubVectors(vec, min), scale);
            return [result[0], dimsPx[1] - result[1]];
        };
    }
    function DrawMember(context, member, startPos, endPos, maxTension) {
        context.strokeStyle = "rgb(" + Math.abs(member.tension / maxTension * 255) + ", 0, 0)";
        context.lineWidth = member.beamType.id + 1;
        context.beginPath();
        context.moveTo(startPos[0], startPos[1]);
        context.lineTo(endPos[0], endPos[1]);
        context.stroke();
        if (member.data.beamCount == 1)
            return;
        context.setLineDash([5, 2]);
        context.strokeStyle = "rgb(0, 0, 0)";
        context.lineWidth = 1;
        context.beginPath();
        context.moveTo(startPos[0], startPos[1]);
        context.lineTo(endPos[0], endPos[1]);
        context.stroke();
        context.setLineDash([]);
    }
    function DrawScene(context, dimsPx, results) {
        var jsonOutElement = document.getElementById("structure_data");
        var outElement = document.getElementById("output");
        outElement.innerHTML = "Mass: " + math_util_1.Round(results.mass, 1) + " g";
        var saveData = {
            joints: [], members: []
        };
        context.font = "12px Arial";
        context.fillStyle = 'white';
        context.fillRect(0, 0, dimsPx[0], dimsPx[1]);
        var _a = [Infinity, Infinity], minX = _a[0], minY = _a[1];
        var _b = [-Infinity, -Infinity], maxX = _b[0], maxY = _b[1];
        var maxTension = -Infinity;
        for (var _i = 0, _c = results.members; _i < _c.length; _i++) {
            var member = _c[_i];
            maxTension = Math.max(maxTension, Math.abs(member.tension));
        }
        for (var _d = 0, _e = Object.values(results.joints); _d < _e.length; _d++) {
            var joint = _e[_d];
            minX = Math.min(minX, joint.data.position[0]);
            minY = Math.min(minY, joint.data.position[1]);
            maxX = Math.max(maxX, joint.data.position[0]);
            maxY = Math.max(maxY, joint.data.position[1]);
        }
        var scale = Scale2Viewport([minX, minY], [maxX, maxY], dimsPx);
        var table = document.createElement('TABLE');
        table.classList.add("out_table", "data_table");
        var headingRow = document.createElement('TR');
        input_1.AddCell(headingRow, "Member");
        input_1.AddCell(headingRow, "Type of load");
        input_1.AddCell(headingRow, "Internal  force");
        input_1.AddCell(headingRow, "Force before failure");
        input_1.AddCell(headingRow, "Load before failure");
        input_1.AddCell(headingRow, "Fails under current load");
        table.appendChild(headingRow);
        for (var _f = 0, _g = results.members; _f < _g.length; _f++) {
            var member = _g[_f];
            var memberData = member.data;
            saveData.members.push(memberData);
            var tension = member.tension * results.analyticalMult;
            context.fillStyle = 'white';
            var startPos = scale(results.joints[memberData.startId].data.position);
            var endPos = scale(results.joints[memberData.endId].data.position);
            DrawMember(context, member, startPos, endPos, maxTension);
            context.fillStyle = 'black';
            var rowClasses = member.fails ? ["error_out"] : [tension > 0 ? "tension_out" : "compression_out"];
            var centerPos = math_util_1.AddVectors(startPos, math_util_1.LinMultVectors(math_util_1.SubVectors(endPos, startPos), [0.5, 0.5]));
            context.fillText(memberData.name, centerPos[0], centerPos[1]);
            var rowOut = document.createElement('TR');
            input_1.AddCell.apply(void 0, [rowOut, memberData.name, "tab_header"].concat(rowClasses));
            if (tension > 0) {
                input_1.AddCell.apply(void 0, [rowOut, "Tensive"].concat(rowClasses));
            }
            else {
                input_1.AddCell.apply(void 0, [rowOut, "Compressive"].concat(rowClasses));
            }
            input_1.AddCell.apply(void 0, [rowOut, math_util_1.Round(tension / 1000, 1) + " kN"].concat(rowClasses));
            input_1.AddCell.apply(void 0, [rowOut, math_util_1.Round(member.failsAtLocal / 1000, 1) + " kN"].concat(rowClasses));
            input_1.AddCell.apply(void 0, [rowOut, math_util_1.Round(member.failsAtLoad / 1000, 1) + " kN"].concat(rowClasses));
            input_1.AddCell.apply(void 0, [rowOut, "" + member.fails].concat(rowClasses));
            table.appendChild(rowOut);
        }
        outElement.appendChild(table);
        context.lineWidth = 1;
        context.strokeStyle = 'black';
        context.textBaseline = "middle";
        context.textAlign = "center";
        context.font = "15px Arial";
        for (var _h = 0, _j = Object.values(results.joints); _h < _j.length; _h++) {
            var joint = _j[_h];
            var jointData = joint.data;
            saveData.joints.push(jointData);
            context.fillStyle = 'white';
            var pos = scale(jointData.position);
            if (jointData.fixed) {
                context.fillRect(pos[0] - 8, pos[1] - 8, 16, 16);
                context.strokeRect(pos[0] - 8, pos[1] - 8, 16, 16);
            }
            else {
                context.beginPath();
                context.arc(pos[0], pos[1], 8, 0, Math.PI * 2);
                context.fill();
                context.stroke();
            }
            context.fillStyle = 'black';
            if (math_util_1.Magnitude(joint.externalForce) != 0) {
                var direction = math_util_1.ScaleVector(math_util_1.Normalize(joint.externalForce), 60);
                context.beginPath();
                context.moveTo(pos[0], pos[1]);
                context.lineTo(pos[0] + direction[0], pos[1] - direction[1]);
                context.stroke();
                var textVec = math_util_1.ScaleVector(direction, 0.5);
                context.fillText(math_util_1.Round(math_util_1.Magnitude(joint.externalForce) / 1000, 1) + "N", pos[0] + textVec[0], pos[1] - textVec[1]);
            }
            context.fillText(jointData.name, pos[0], pos[1]);
        }
        jsonOutElement.value = JSON.stringify(saveData);
        for (var _k = 0, _l = results.errors; _k < _l.length; _k++) {
            var error = _l[_k];
            var errorOut = document.createElement("DIV");
            errorOut.classList.add("error_out");
            errorOut.innerHTML = "Error: " + error;
            outElement.appendChild(errorOut);
        }
        for (var _m = 0, _o = results.warnings; _m < _o.length; _m++) {
            var warning = _o[_m];
            var warningOut = document.createElement("DIV");
            warningOut.classList.add("warning_out");
            warningOut.innerHTML = "Warning: " + warning;
            outElement.appendChild(warningOut);
        }
    }
    exports.DrawScene = DrawScene;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVuZGVyZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvcmVuZGVyZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0lBS0EsU0FBUyxjQUFjLENBQUMsR0FBUSxFQUFFLEdBQVEsRUFBRSxNQUFXO1FBQy9DLElBQUEsdUNBQXFELEVBQXBELGNBQU0sRUFBRSxjQUE0QyxDQUFDO1FBQzFELElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxHQUFDLEdBQUcsQ0FBQztRQUM1QyxHQUFHLEdBQUcsc0JBQVUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV0RSxJQUFNLEtBQUssR0FBRyx1QkFBVyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUMsUUFBUSxDQUFDLENBQUM7UUFDOUMsT0FBTyxVQUFTLEdBQVE7WUFDcEIsSUFBTSxNQUFNLEdBQUcsMEJBQWMsQ0FBQyxzQkFBVSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUMzRCxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM5QyxDQUFDLENBQUE7SUFDTCxDQUFDO0lBRUQsU0FBUyxVQUFVLENBQUMsT0FBZ0MsRUFBRSxNQUFpQixFQUFFLFFBQWEsRUFBRSxNQUFXLEVBQUUsVUFBaUI7UUFDbEgsT0FBTyxDQUFDLFdBQVcsR0FBRyxTQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLE9BQU8sR0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDLFlBQVMsQ0FBQztRQUNoRixPQUFPLENBQUMsU0FBUyxHQUFHLE1BQU0s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